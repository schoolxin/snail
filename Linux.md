# linux 常用命令

## ls 命令

* -a 显示所有文件包括隐藏的文件
* -l 列出文件的详细列表
* -h 展示友好信息
* -d 查看目录本身的信息，而不是目录下的文件信息
* -i 显示文件的节点信息

## mkdir

* mkdir -p d1/d2 级联创建目录

## rmdir 删除空目录

* rmdir d1
* rmdir d1/d2 删除d1下的d2
* rmdir d1/d2 d1 先删除d1下的d2 再删除d1

## rm 删除文件或目录

* rm -f 文件 强制删除文件
* rm -r 目录 递归删除目录下的文件或目录
* rm 文件，会有确认删除的询问
* rm -rf 目录
  ```
  rm -rf * 删除当前目录下的所有文件  rm -rf /* 删除系统根目录下的所有文件(不要使用它)
  ```

## 文件命令

* more 文件名：分页显示文件内容

> 操作
> 
> > 回车：下一行
> > 空格：下一页
> > b：返回上一页
> > q：退出

* less 文件名：分页显示文件内容

> 参数：-m 显示百分比 -N 显示行号
> 操作跟more一样

* vi 命令

> 一般模式：可以浏览文件内容，进行文件快捷键操作
> 
> > 单行复制：yy
> > 单行粘贴：p
> > 多行赋值：先输入要复制的行数比如4 然后再敲yy
> > 单行删除：dd
> > 多行删除：先输入要复制的行数比如4 然后再敲dd
> > 到行首：shift+^
> > 到行末：shift+$
> > 到最后一行：shift+g
> > 到第一行：gg
> > 到指定那一行：行号+shift+g

## CP命令：复制

* cp 源文件 目标文件
* cp -r 源目录  目标目录

## MV命令：移动

* mv 源文件或目录 目标文件或目录
* mv -f 源文件或目录 目标文件或目录 f表示如果目标位置已经存在则强制覆盖

## 链接命令

* ln -s [原文件] [目标文件] 其中的s表示软连接 软连接相当于window中快捷方式
* 用户通过文件名找到I节点，通过I节点可以找到文件的位置 然后取出文件数据在内存中合并好给用户
* 硬链接特征：

> 1.拥有相同的i节点和存储block块，可以看成是同一份文件
> 2.可以通过i节点识别
> 3.不能跨分区
> 4.不能针对目录使用
> 5.只有一个文件还有硬链接引用它，该文件的其他硬链接的文件即使被删除了数据还是存在的
> ![image.png](assets/image3.png)

* 软连接特征：

> 1.类似于windows中的快捷方式
> 2.软连接拥有自己的i节点和block块，但是数据块中只保留源文件的文件名和i节点号，并没有实际的文件数据
> 3.lrwxrwxrwx 其中的l表示软连接，软连接的权限总是rwxrwxrwx
> 4.修改任意文件，另外一个都改变
> 5.删除源文件，软连接不能使用，如果这个时候重新创建回来 软连又可以使用，说明了软连接记的是文件名
> 6.在创建软连接时，要写指定文件的绝对路径(硬链接没有这个要求)
> eg:ln -s /root/a.txt b.txt
> ![image.png](assets/image2.png)

* linux 中软连接和硬链接区别

> 创建软连接 ln -s 源文件 目标文件 ；创建硬链接 ln 源文件 目标文件
> 软连接和源文件有不同的i节点，硬链接与源文件有相同的i节点
> 删除源文件后，软连接没法使用 硬链接可以使用
> 创建软件链接时应该指定源文件的决定路径，硬链接没有这个要求



